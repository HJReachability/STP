% !TEX root = nextUAVsched.tex
\section{Introduction}
Consider a group of autonomous vehicles trying to perform a task or reach a goal which may be time-varying in their joint state space, while avoiding obstacles and other vehicles. Providing safety and performance guarantees for such a multi-agent autonomous system (MAAS) is very relevant practically: Recently, there has been a growing interest in using unmanned aerial vehicles (UAVs) for civil applications, as companies like Amazon and Google are looking in the near future to send UAVs into the airspace to deliver packages \cite{primeAir,projectWing}. Government agencies such as the Federal Aviation Administration (FAA) and National Aeronautics and Space Administration (NASA) of the United States are also expressing growing interest in analyzing these problems in order to prevent airspace conflicts that could arise with the introduction of potentially many UAVs in an urban environment \cite{faa13}. In addition, UAVs can be used not only to deliver packages quickly, but in any situation where fast response is desired. For example, UAVs can provide emergency supplies to disaster-struck areas that are otherwise difficult to reach \cite{debusk10}.

In general, MAASs are difficult to analyze due to their inherent high dimensionality. %For example, the joint state space of 10 vehicles would have 30 dimensions even if each vehicle is described by a simple model with three states.
 MAASs also often involve aspects of cooperation and asymmetric goals among the vehicles or teams of vehicles, making their analysis particularly interesting. %Despite these difficulties, it is still important to analyze these systems because of their applications in robotics and aircraft safety.
MAASs have been explored extensively in the literature. Some researchers have done work on multi-vehicle path planning in the presence of other unknown vehicles or moving entities with assumptions on their specific control strategies \cite{chasparis05}. In a number of formulations for safe multi-vehicle navigation, these assumed strategies induce velocity obstacles that vehicles must avoid to maintain safety \cite{fiorini98, vandenberg08}. Researchers have also used potential functions to perform collision avoidance while maintaining formation given a predefined trajectory \cite{saber02,chuang07}. However, these bodies of work have not considered trajectory planning and collision avoidance simultaneously.

One well-known technique for optimal trajectory planning under disturbances or adversaries is reachability analysis, in which one computes the reach-avoid set, defined as the set of states from which the system can reach a target set while remaining within a state constraint set for all time. For reachability of systems of up to five dimensions, single-obstacle Hamilton-Jacobi-Isaacs (HJI) variational inequalities (VI) \cite{mitchell05,bokanowski10} have been used in situations where obstacles and target sets are static. Another HJI VI formulation \cite{barron89} is able to handle problems with moving target sets with no obstacles. 

A major practical appeal of the above approaches stems from the availability of modern numerical tools such as \cite{mitchell05, sethian96, osher02, LSToolbox}, which can efficiently solve HJI equations when the problem dimension is low. These numerical tools have been successfully used to solve a variety of differential games, path planning problems, and optimal control problems\cite{mitchell05,ding08,huang11}. %, including aircraft collision avoidance \cite{mitchell05}, automated in-flight refueling \cite{ding08}, and two-player reach-avoid games \cite{huang11}. The advantage of the HJI approaches is that they can be applied to a large variety of system dynamics, and provide guarantees on the system's safety and performance.
 Despite the power of the previous HJI formulations, the approaches become numerically intractable very quickly as the number of vehicles in the system is increased. This is because the numerical computations are done on a grid in the joint state space of the system, resulting in an exponential scaling of computation complexity with respect to the dimensionality of the problem. Furthermore, state constraint sets, while useful for modeling unsafe vehicle configurations, are required to be time-invariant in \cite{mitchell05, bokanowski10, mitchell-thesis}. To solve problems involving time-varying state constraints, \cite{bokanowski11} proposed to augment the state space with time; however, this process introduces an extra state space dimension, resulting in added computation complexity.

Recently, \cite{fisac15} presented a double-obstacle HJI VI which handles problems in which the dynamics, target sets, and state constraint sets are all time-varying, and provided a numerical implementation based on well-known schemes. The formulation does not introduce any additional computation overhead compared to the above-mentioned techniques, yet it still maintains the same guarantees on the system's safety and performance. In this paper, we provide a first application of the theory presented in \cite{fisac15}. As a point of clarification, ``obstacles" in the context of HJI VIs refer to the effective constraints in the HJI VI, while obstacles in the state space represent physical obstacles that vehicles must avoid.

Our contributions are as follows. First, we formulate a multi-vehicle collision avoidance problem involving $N$ autonomous vehicles. Each vehicle seeks to get to its own target sets while avoiding obstacles and collision with all other vehicles. To reduce the problem complexity to make the problem tractable, we assign a priority to each vehicle, and model higher-priority vehicles as time-varying obstacles that need to be avoided. We then utilize the double-obstacle HJI VI proposed in \cite{fisac15} to compute reach-avoid sets to plan trajectories for vehicles in order of priority. This way, we are able to offer a tractable solution that scales linearly, as opposed to exponentially, with the number of vehicles. We demonstrate the scalability of our approach in a four-vehicle system.