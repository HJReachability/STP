%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8

%\documentclass[journal]{aiaa-pretty}
\documentclass[submit]{aiaa-pretty}  

%\overrideIEEEmargins
% See the \addtolength command later in the file to balance the column lengths
% on the last page of the document

\usepackage{mathtools}    % need for sub equations
\usepackage{amsfonts}
\usepackage{graphicx}   % need for figures
\usepackage{subcaption}
\usepackage{epsfig} 
\usepackage{cancel}
\usepackage{amssymb}
\usepackage{color}
\usepackage{bm}
\usepackage[ruled,vlined,titlenotnumbered]{algorithm2e} 
\usepackage{todonotes} \setlength{\marginparwidth}{2.5cm} 
\usepackage{float}
\usepackage{cite}
\usepackage{enumitem}

\newcommand{\MCnote}{\textcolor{red}}
\newcommand{\SBnote}{\textcolor{blue}}

\newcommand{\R}{\mathbb{R}} % Real number
\newcommand{\dist}{\text{dist}} % Distance
\newcommand{\rc}{R_c} % Capture radius
\newcommand{\cradius}{\rc}
\newcommand{\N}{N} % number of agents

\newcommand{\veh}{Q} % vehicle
\newcommand{\intr}{I} % Intruder index
\newcommand{\state}{x} % state
\newcommand{\ctrl}{u} % control
\newcommand{\dstb}{d} % disturbance
\newcommand{\pos}{p} % position
\newcommand{\npos}{h} % non-position states

\newcommand{\traj}{\zeta}
\newcommand{\errstate}{e}

\newcommand{\fdyn}{f} % full dynamics
\newcommand{\cset}{\mathcal{U}} % Control set
\newcommand{\cfset}{\mathbb{U}} % control function set
\newcommand{\dset}{\mathcal{D}} % disturbance
\newcommand{\dfset}{\mathbb{D}} % disturbance function set
\newcommand{\obsset}{\mathcal{G}} % Obstacle (the one used to solve PDE)
\newcommand{\dz}{\mathcal{Z}} % danger zone
\newcommand{\sep}{\mathcal{S}} % Separation region
\newcommand{\buff}{\mathcal{B}} % Buffer region

\newcommand{\valfunc}{V} % value function
\newcommand{\valfuncfwd}{W} % value function for forwards reachable set
\newcommand{\brs}{\mathcal{V}} % backwards reachable set
\newcommand{\frs}{\mathcal{W}} % forwards reachable set
\newcommand{\pfrs}{\mathcal{P}} % projected forwards reachable set
\newcommand{\targetset}{\mathcal{L}} % target set
\newcommand{\ham}{H} % Hamiltonian
\newcommand{\fc}{l} % Final condition
\newcommand{\ic}{l} % Initial condition
\newcommand{\obsfunc}{g} % Obstacle function
\newcommand{\costate}{\lambda}

\newcommand{\disckernel}{\Omega} % Discriminating kernel

\newcommand{\edt}{t^\text{EDT}} % earliest departure time
\newcommand{\ldt}{t^\text{LDT}} % latest departure time
\newcommand{\sta}{t^\text{STA}} % scheduled time of arrival
\newcommand{\ioset}{\mathcal{O}} % Induced obstacle
\newcommand{\boset}{\mathcal{M}} % Base obstacle
\newcommand{\sosetp}{\mathcal{S}} % static obstacle in position space
\newcommand{\soset}{\ioset^\text{static}} % static obstacle in state space
\newcommand{\iat}{t^\text{IAT}} % intruder avoidance time
\newcommand{\wcttr}{t^\text{WC}} % worst case TTR

\newcommand{\basicham}{\ham^\text{basic}}

\newcommand{\tsa}{\underline{t}} % time of start of avoidance
\newcommand{\tea}{\bar{t}} % time of end of avoidance
\newcommand{\nva}{\bar{k}} % Number of Vehicles to Avoid (NVA)
\newcommand{\brd}{t^\text{BRD}} % Buffer Region Duration (BRD)
\newcommand{\trd}{t^\text{RD}} % Remaining Duration (RD)
\newcommand{\rvs}{\mathcal{N}^\text{RP}} % Re-Planning Vehicle Set
\newcommand{\dsen}{d^\text{A}} % Sensing distance
\newcommand{\avoidt}{\mathcal{A}} % Set of all avoid times

\newcommand{\errorbound}{\mathcal{E}} % Error ``bubble" between vehicle and tracking reference
\newcommand{\tracklaw}{\kappa} % Robust tracking law

\newtheorem{assumption}{Assumption}
\newtheorem{alg}{Algorithm}
\newtheorem{remark}{Remark}
\newtheorem{observation}{Observation}

\title{\LARGE \bf Provably Safe and Scalable Unmanned Aerial Vehicle Routing: A Case Study in San Francisco and the Bay Area}

\author{Mo Chen\thanks{PhD Candidate, Department of Electrical Engineering and Computer Sciences, shared first author}, Somil Bansal\thanks{PhD Student, Department of Electrical Engineering and Computer Sciences, shared first author}, Ken Tanabe\thanks{Toshiba}, and Claire J. Tomlin\thanks{Professor, Department of Electrical Engineering and Computer Sciences, Member AIAA}
}



%%%
\AIAAabstract{Provably safe and scalable multi-vehicle path planning is an important and urgent problem due to the expected increase of automation in civilian airspace in the near future. Hamilton-Jacobi (HJ) reachability is an ideal tool for analyzing such safety-critical systems and has been successfully applied to several small-scale problems. However, a direct application of HJ reachability to large scale systems is often intractable because of its exponentially-scaling computation complexity with respect to system dimension, also known as the ``curse of dimensionality''. To overcome this problem, the sequential path planning (SPP) method, which assigns strict priorities to vehicles, was previously proposed; SPP allows multi-vehicle path planning to be done with a linearly-scaling computation complexity. In this work, we demonstrate the potential of SPP algorithm for large-scale systems. In particular, we simulate large-scale multi-vehicle systems in two different urban environments, a city environment and a multi-city environment, and use the SPP algorithm for trajectory planning. SPP is able to efficiently design collision-free trajectories in both environments despite the presence of disturbances in vehicles' dynamics. To ensure a safe transition of vehicles to their destinations, our method automatically allocates space-time reservations to vehicles while accounting for the magnitude of disturbances such as wind in a provably safe way. Our simulation results show an intuitive multi-lane structure in airspace, where the number of lanes and the distance between the lanes depend on the size of disturbances and other problem parameters.}

\begin{document}
\maketitle

% Introduction
\input{introduction}

% Problem Formulation
\input{formulation}

% Background material
\input{./background/background}
\input{./background/HJIVI}
\input{./background/basic}
\input{./background/obs_gen3_revised}

% City-level Simulations
\input{./simulations/city/simulations}
\input{./simulations/city/setup}
\input{./simulations/city/results}
\input{./simulations/city/distb_effect}

% Bay Area level Simulations
\input{./simulations/bayArea/simulations}
\input{./simulations/bayArea/setup}
\input{./simulations/bayArea/results}

% Conslusion
\input{conclusion}

\section*{Acknowledgements}
This research is supported by ONR under the Embedded Humans MURI (N00014-16-1-2206).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\addtolength{\textheight}{1cm}   % This command serves to balance the column lengths
                                  % on the last page of the document manually. It shortens
                                  % the textheight of the last page by a suitable amount.
                                  % This command does not take effect until the next page
                                  % so it should come on the page before the last. Make
                                  % sure that you do not shorten the textheight too much.

\bibliographystyle{aiaa}
\bibliography{references}
\end{document}
