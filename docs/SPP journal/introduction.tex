% !TEX root = SPP_journal.tex
\section{Introduction}
Recently, there has been an immense surge of interest in the use of unmanned aerial systems (UASs) in urban environments. UASs have great potential in civil applications such as package delivery, aerial surveillance, disaster response, among many others \cite{Tice91, Debusk10, Amazon16, AUVSI16, BBC16}. Unlike previous uses of UASs for military purposes, civil applications will involve unmanned aerial vehicles (UAVs) flying in urban environments, potentially in close proximity of humans, other UAVs, and other important assets. As a result, government agencies such as the Federal Aviation Administration (FAA) and National Aeronautics and Space Administration (NASA) of the United States are urgently trying to develop new scalable ways to organize an airspace in which potentially thousands of UAVs can fly simultaneously in the same region \cite{FAA13, NASA16, Kopardekar16}.

One essential problem that needs to be addressed is the safe multi-vehicle path planning problem: how a group of vehicles in the same vicinity can reach their destinations while avoiding situations which are considered dangerous, such as collisions. In many previous studies that address this problem, specific control strategies for the vehicles are assumed, and approaches such as those involving induced velocity obstacles \cite{Fiorini98, Chasparis05, Vandenberg08,Wu2012} and involving virtual potential fields to maintain collision \cite{Olfati-Saber2002, Chuang07} have been used. Other analyses of multi-vehicle systems include methods for real-time trajectory generation \cite{Feng-LiLian2002}, for path planning for vehicles with linear dynamics in the presence of obstacles with known motion \cite{Ahmadzadeh2009}, and for cooperative path planning via waypoints which do not account for vehicle dynamics \cite{Bellingham}. Other related work include those which consider only the collision avoidance problem without path planning. These results include those that assume the system has a linear model \cite{Beard2003, Schouwenaars2004, Stipanovic2007}, rely on a linearization of the system model \cite{Massink2001, Althoff2011}, assume a simple positional state space \cite{Lin2015}, and many others \cite{Lalish2008, Hoffmann2008, Chen2016}.

Although interesting results emerge from the studies above, their shortcomings cannot be ignored. The capability to flexibly plan provably safe and dynamically feasible trajectories without making strong assumptions on the vehicles' dynamics and other vehicles' motion is essential for dense groups of UAVs flying in each other's vicinity. In addition, in a practical setting, any path planning scheme that also addresses collision avoidance must guarantee both the liveness (success in reaching goal states) and safety of UAVs despite disturbances such as weather effects and communication faults \cite{Kopardekar16}. Furthermore, unexpected scenarios such as UAV malfunctions or even UAVs with malicious intent need to be accounted for.

The problem of trajectory planning and collision avoidance under disturbances in safety-critical systems has been studied using Hamilton-Jacobi (HJ) reachability analysis, which provides guarantees on the liveness and safety of optimal system trajectories \cite{Barron90, Mitchell05, Bokanowski10, Bokanowski11, Margellos11, Fisac15}. Reachability-based methods are particular suitable for in the context of UAVs because of the hard guarantees that are provided. In reachability analysis, one computes the reachable set, defined as the set of states from which the system can be driven to a target set. Many numerical tools are available for computing various definitions of reachable sets \cite{Sethian96, Osher02, Mitchell02, Mitchell07}, and reachability analysis has been successfully used in applications involving systems with no more than two vehicles, such as pairwise collision avoidance \cite{Mitchell05}, automated in-flight refueling \cite{Ding08}, and many others \cite{Huang11, Bayen07}.

One of the main challenges of managing the next generation of airspace is the density of vehicles that needs to be accommodated \cite{Kopardekar16}. Such a large-scale system has a high-dimensional joint state space, making a direct application of dynamic programming-based approaches such as reachability analysis intractable. In particular, reachable set computations involve solving a HJ partial differential equation (PDE) or variational inequality (VI) on a grid representing a discretization of the state space, causing computation complexity to scale \textit{exponentially} with system dimension.

In this paper, we propose the sequential path planning (SPP) method to tackle the multi-vehicle path planning problem. SPP provides hard guarantees on both the liveness and safety of all vehicles even in the presence of disturbances and a single intruder vehicle that could potentially be malicious. In addition, our method scales only \textit{linearly} with the number of vehicles when there is no intruder, and \textit{quadratically} with the number of vehicles when there is a single intruder. 

On a high level, the SPP method assigns a strict priority ordering to the vehicles under consideration. Higher-priority vehicles plan their paths without taking into account the lower-priority vehicles. Lower-priority vehicles treat higher-priority vehicles as moving obstacles. Under this assumption, time-varying formulations of reachability \cite{Bokanowski11, Fisac15} can be used to obtain the optimal and provably safe paths for each vehicle, starting from the highest-priority vehicle. In a sense, the SPP method reserves a portion of ``space-time'' in the airspace for each vehicle such that 1) each vehicle can robustly remain inside their reserved ``space-time'' under disturbances and the presence of a single intruder, 2) arrive at some set of goal states on time, and 3) be guaranteed to not enter any other reserved space-time. Thus, the curse of dimensionality is overcome for the multi-vehicle path planning problem at the cost of a mild structural assumption. 

In summary, our contributions are as follows:
\begin{itemize}
\item In Sections \ref{sec:formulation} and \ref{sec:HJIVI}, we formally present the path planning problem and definitions specific to the SPP method. In addition, we provide a brief overview of a time-varying reachability formulation that we use in the SPP method.
\item In Section \ref{sec:basic}, we present the basic SPP method while assuming that each vehicle has perfect information about other vehicles' control strategies, and that no disturbances or intruders are present. We illustrate the basic SPP method in a simulation.
\item In Section \ref{sec:incomp}, we make the basic SPP method robust to the presence of disturbances and incomplete information about other vehicles' control strategies. Here, we propose three different methods which differ in their assumptions on the information available to each vehicle. We also provide simulation results.
\item Finally, in Section \ref{sec:intruder}, we show how the SPP method can be made robust against an intruder on top of disturbances. We prove that assuming the intruder may only be present for a maximum duration, all vehicles can still safely reach their targets on time. We also present a simulation to validate our theory.
\end{itemize}
